# Тестовое задание

**Время выполнения**: ~8 часов (Junior уровень)

## Построение системы для обучения

Суть задания заключается в проверке знаний построения связей в БД и умение правильно строить запросы без ошибок N+1.

Перед тем, как приступить к выполнению задания, советуем изучить материалы, которые помогут в выполнении заданий:

- [Django Tutorial](https://docs.djangoproject.com/en/4.2/intro/tutorial01/)
- [Django Models](https://docs.djangoproject.com/en/4.2/topics/db/models/)
- [Django Queries](https://docs.djangoproject.com/en/4.2/topics/db/queries/)
- [Django Querysets](https://docs.djangoproject.com/en/4.2/ref/models/querysets/)
- [Django Rest Framework Quickstart](https://www.django-rest-framework.org/tutorial/quickstart/)
- [Django Rest Framework Viewsets](https://www.django-rest-framework.org/api-guide/viewsets/)
- [Django Rest Framework Serializers](https://www.django-rest-framework.org/api-guide/serializers/)

## Построение архитектуры (3 балла)

В этом задании у нас есть три бизнес-задачи на хранение:

1. Создать сущность "Продукт". У каждого продукта должен быть владелец. Также необходимо добавить сущность для хранения доступов к продукту для пользователей.

2. Создать сущность "Урок". Урок может принадлежать нескольким продуктам одновременно. В уроке должна содержаться базовая информация: название, ссылка на видео, длительность просмотра (в секундах).

3. Пользователи могут просматривать уроки. Необходимо фиксировать время просмотра и статус "Просмотрено" или "Не просмотрено". Статус "Просмотрено" устанавливается, если пользователь просмотрел 80% ролика.

## Написание запросов (7 баллов)

В этой части задания вам потребуется использовать созданную вами архитектуру:

1. Реализовать API для вывода списка всех уроков по всем продуктам, к которым пользователь имеет доступ, с информацией о статусе и времени просмотра.

2. Реализовать API для вывода списка уроков по конкретному продукту, к которому пользователь имеет доступ, с информацией о статусе и времени просмотра, а также датой последнего просмотра урока.

3. Реализовать API для отображения статистики по продуктам. Необходимо вывести список всех продуктов на платформе и прикрепить к каждому продукту следующую информацию:

   - Количество просмотренных уроков от всех учеников.
   - Общее количество времени, затраченное всеми учениками на просмотр уроков.
   - Количество учеников, занимающихся на продукте.
   - Процент приобретения продукта (рассчитывается на основе количества полученных доступов к продукту, деленное на общее количество пользователей на платформе).

## Результат выполнения

Ожидается, что вы выполните следующие задачи:

1. Создайте архитектуру на базе базы данных SQLite с использованием Django.

2. Реализуйте API, используя созданную архитектуру.

3. Разместите ваш проект на публичном репозитории GitHub и предоставьте ссылку на него вместе с выполненным заданием.

Superuser
Username: admin
Password: 12345
